####系统所支持的附加函数清单

 | 函数名  | 函数说明 | 参数 | 函数示例   |
 | --- |---|---|---------------------|
 | $replace() | 文本替换 | 以偶数配对出现 |示例：&lt;BR&gt;&lt;div style=&quot;width: 250pt&quot;&gt; {{devId&amp;#124;$replace('a', 'A', 'bcd', 'BCD')}} &lt;/div&gt;  说明：&lt;BR&gt;   对devId中的值，进行文本替换，将小写a全部替换成大写A，同时，将bcd全部替换成BCD。|
 |$substr()|字符串截取| 2个。&lt;BR&gt;截取字符串的&lt;BR&gt;起始位置(从1开始）&lt;BR&gt;与结束位置| 示例：&lt;BR&gt;{{devId&amp;#124;$substr('1', '3')}} &lt;BR&gt;说明：&lt;BR&gt;从0开始，0表示第1个字符之前，1表示第1个字符之后，取到第3个字符(含)。例如：devId的值假设是 abcdef，则substr(1,3)的最终结果是：bc。|
 |$prepend()|字符串向前拼接| 多个。&lt;BR&gt;将函数参数中的&lt;BR&gt;多个字符串拼接到&lt;BR&gt;引用参数的前面| 示例：&lt;BR&gt;{{devId&amp;#124;$prepend('信息:', '{{ip}}', '-')}} &lt;BR&gt;说明：&lt;BR&gt;将“信息”、“IP”、“-”字符，拼接到devId值的前面。&lt;BR&gt;例如：devId的值假设是 abcdef，则拼接的最终结果是：&lt;BR&gt;信息:192.168.1.12-abcdef|
 |$prependIfNotBlank()|有条件的字符串向拼接| 多个。&lt;BR&gt;将函数参数中的&lt;BR&gt;当所引用的变量值不是“空白值”时，将函数中的多个参数拼接到引用变量的前面| 示例：&lt;BR&gt;{{smsVCode&amp;#124;$prependIfNotBlank('验证码:')}} &lt;BR&gt;说明：&lt;BR&gt;将参数中的字符串拼接到smsVCode值的前面。&lt;BR&gt;例如：smsVCode的值假设是 1254，则拼接后的结果是：验证码：1254|
 |$concat()|字符串向后拼接| 多个。&lt;BR&gt;将函数参数中的&lt;BR&gt;多个字符串与&lt;BR&gt;引用参数进行拼接| 示例：&lt;BR&gt;{{devId&amp;#124;$concat('-', '{{ip}}')}} &lt;BR&gt;说明：&lt;BR&gt;将devId的值与横线符及当前IP进行拼接。&lt;BR&gt;例如：devId的值假设是 abcdef，则拼接的最终结果是：&lt;BR&gt;abcdef-192.168.1.12|
  |$concatIfNotBlank()|有条件的字符串向后拼接| 多个。&lt;BR&gt;将函数参数中的&lt;BR&gt;当所引用的变量值不是“空白值”时，将引用变量与函数中的多个参数进行拼接| 示例：&lt;BR&gt;{{smsVCode&amp;#124;$concatIfNotBlank('是本次的验证码')}} &lt;BR&gt;说明：&lt;BR&gt;将smsVCode的值与参数中的字符串进行拼接。&lt;BR&gt;例如：smsVCode的值假设是 1254，则拼接的最终结果是：&lt;BR&gt;1254是本次的验证码|
  | $md5() | 计算md5值&lt;BR&gt;（小写） | 0或1个。默认取32字节的MD5 &lt;BR&gt; HEX字符串，也可以指定其它长度，&lt;BR&gt;但必须是偶数。 | 示例：&lt;BR&gt;{{devId&amp;#124;$md5('16')}} &lt;BR&gt;说明：&lt;BR&gt;取devId值的16字节长的HEX字符串。|
  | $sha256() | 计算SHA-256值&lt;BR&gt;（大写） | 无 | 示例：&lt;BR&gt;{{devId&amp;#124;$sha256()}} &lt;BR&gt;说明：&lt;BR&gt;取devId的SHA-256的Hash值的HEX字符串（64字节）。|
  | $toUpper() | 取字符串大写值 | 无 | 示例：&lt;BR&gt;{{devId&amp;#124;$toUpper()}} &lt;BR&gt;说明：&lt;BR&gt;取对应字符串，大写之后的值|
   | $toLower() | 取字符串小写值 | 无 | 示例：&lt;BR&gt;{{devId&amp;#124;$toLower()}} &lt;BR&gt;说明：&lt;BR&gt;取对应字符串，小写之后的值|
   | $jsonEscape()| 对json串中的字符&lt;BR&gt;进行转义，确保&lt;BR&gt;结果符合json格式| 无  | 示例：&lt;BR&gt;{{smsBd&amp;#124;$jsonEscape()}} &lt;BR&gt;说明：&lt;BR&gt;有一些特殊字符是不允许出现在json串中的，比如双引号、换行符等等。可通过jsonEscape()对字符串进行json转义处理，使其符合json规范。|
 | $aesBase64() | 对字符串进行&lt;BR&gt;AES加密，返回标准的&lt;BR&gt;base64字符串。 | 无 | 示例：&lt;BR&gt;{{devId&amp;#124;$aes()}} &lt;BR&gt;说明：&lt;BR&gt;对字符串进行加密，并获取加密后的值。注意：aes加密所使用到的Key/IV等参数，以及加密算法，请通过开发板后台--“密码管理”功能中进行设置。|
 | $aesBase64Url() | 对字符串进行&lt;BR&gt;AES加密，返回可用于&lt;BR&gt;http传输的标准Base64&lt;BR&gt;字符串。&lt;BR&gt;**（推荐使用）** | 无 | 示例：&lt;BR&gt;{{devId&amp;#124;$aes()}} &lt;BR&gt;说明：&lt;BR&gt;对字符串进行加密，并获取加密后的值。注意：aes加密所使用到的Key/IV等参数，以及加密算法，请通过开发板后台--“密码管理”功能中进行设置。|
 | $defaultIfEmpty() | 如果引用变量的长度是0，&lt;BR&gt;则返回参数指定的值，&lt;BR&gt;否则返回变量值。 | 1个。如果引用变量长度是0，则返回参数中的字符串。 | 示例：&lt;BR&gt;{{phNum&amp;#124;$defaultIfEmpty('隐藏号码')}} &lt;BR&gt;说明：&lt;BR&gt;如果所引用的变量长度是0，则返回参数中的字符串。示例中，如果来电号码为空，则显示“隐藏号码”字样。|
 | $defaultIfBlank() | 如果引用变量是空白串，&lt;BR&gt;则返回参数指定值，&lt;BR&gt;否则返回变量值 | 1个。如果字符串判空成立，则返回参数中的字符串，否则返回引用的变量值。 | 示例：&lt;BR&gt;{{smsBd&amp;#124;$defaultIfBlank('无短信内容')}} &lt;BR&gt;说明：&lt;BR&gt;如果所引用的变量是空串（字符串长度是0，或字符串全部是空格），则返回参数中的字符串。示例中，如果短信内容为空（无内容或内容都是空格），则显示“无短信内容”字样。|
 | $nothingIfEmpty() | 如果引用的变量长度是0，&lt;BR&gt;则返回参数指定的值，&lt;BR&gt;否则返回空 | 1个。如果引用变量长度是0，则返回参数中的字符串，否则返回空。 | $defaultIfNotEmpty()的反函数。|
 | $nothingIfBlank() | 如果引用的变量是空白串，&lt;BR&gt;则返回参数指定的值，&lt;BR&gt;否则返回空 | 1个。如果引用变量是空白串，则返回参数中的字符串，否则返回空。 | $defaultIfNotBlank()的反函数。 |
 | $nothingIfNotEmpty() | 如果引用变量的长度**不是**0，&lt;BR&gt;则返回参数指定的值，&lt;BR&gt;否则返回空。 | 1个。如果引用变量长度不是0，则返回参数中的字符串。 | |
 | $nothingIfNotBlank() | 如果引用变量是**非**空白串，&lt;BR&gt;则返回参数指定的值，&lt;BR&gt;否则返回空。 | 1个。如果字符串判非空成立，则返回参数中的字符串，否则返回空。 | |
 | $trim() | 对字符串&lt;BR&gt;前后空格&lt;BR&gt;进行剔除 | 无 | 示例：&lt;BR&gt;{{smsBd&amp;#124;$trim()}} &lt;BR&gt;说明：&lt;BR&gt;剔除掉字符串中的前后空格（如有）。|
 | $urlEncode() | 对引用的变量值&lt;BR&gt;进行URL Encode编码 | 无 | 示例：&lt;BR&gt;{{smsBd&amp;#124;$urlEncode()}} &lt;BR&gt;说明：&lt;BR&gt;将短信内容进行URL Encode编码。|
 | $urlDecode() | 对引用的变量值&lt;BR&gt;进行URL Decode解码 | 无 | 示例：&lt;BR&gt;{{smsBd&amp;#124;$urlDecode()}} &lt;BR&gt;说明：&lt;BR&gt;将短信内容进行URL Decode解码。|
 | $ts2yyyymmdd() | 对引用的时间戳变量&lt;BR&gt;格式化为年月日格式 | 1个。&lt;BR&gt;年月日中间的分隔字符 | 示例：&lt;BR&gt;{{smsTs&amp;#124;$ts2yyyymmdd('-')}} &lt;BR&gt;说明：&lt;BR&gt;将短信时间戳格式为：YYYY-MM-DD格式。|
 | $ts2yymmdd() | 对引用的时间戳变量&lt;BR&gt;格式化为年月日格式 | 1个。&lt;BR&gt;年月日中间的分隔字符 | 示例：&lt;BR&gt;{{smsTs&amp;#124;$ts2yymmdd('-')}} &lt;BR&gt;说明：&lt;BR&gt;将短信时间戳格式为：YY-MM-DD格式。|
 | $ts2yyyymmddhhmmss() | 对引用的时间戳变量&lt;BR&gt;格式化为年月日时分秒格式 | 2个。&lt;BR&gt;参数1：年月日中间的分隔符；参数2：时分秒中间的分隔符 | 示例：&lt;BR&gt;{{smsTs&amp;#124;$ts2yyyymmddhhmmss('-', ':')}} &lt;BR&gt;说明：&lt;BR&gt;将短信时间戳格式为：YYYY-MM-DD HH:MM:SS 格式。|
 | $ts2yymmddhhmmss() | 对引用的时间戳变量&lt;BR&gt;格式化为年月日时分秒格式 | 2个。&lt;BR&gt;参数1：年月日中间的分隔符；参数2：时分秒中间的分隔符 | 示例：&lt;BR&gt;{{smsTs&amp;#124;$ts2yymmddhhmmss('-', ':')}} &lt;BR&gt;说明：&lt;BR&gt;将短信时间戳格式为：YY-MM-DD HH:MM:SS 格式。|
 | $ts2hhmmss() | 对引用的时间戳变量&lt;BR&gt;格式化为时分秒格式 | 1个。&lt;BR&gt;时分秒中间的分隔符 | 示例：&lt;BR&gt;{{smsTs&amp;#124;$ts2hhmmss(':')}} &lt;BR&gt;说明：&lt;BR&gt;将短信时间戳格式为：HH:MM:SS 格式。|
  | $iifeq() | 匹配参数1的值，转为输出参数2 | 偶数个 | 示例：&lt;BR&gt;{{slot&amp;#124;$iifeq('1', '卡一', '2', '卡二')}} &lt;BR&gt;说明：&lt;BR&gt;将slot值的1,2 转为中文。|





